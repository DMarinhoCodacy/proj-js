2024.01.17 21:41:42 INFO  Started: Metals version 1.2.0 in folders '/Users/davidmarinho/dev/proj-js' for client Visual Studio Code 1.85.1.
2024.01.17 21:41:45 INFO  no build target found for /Users/davidmarinho/dev/proj-js/test.scala. Using presentation compiler with project's scala-library version: 3.3.1
2024.01.17 21:41:47 INFO  Running List(/usr/local/bin/scala-cli, setup-ide, /Users/davidmarinho/dev/proj-js)
2024.01.17 21:41:48 INFO  Attempting to connect to the build server...
2024.01.17 21:41:48 INFO  Running BSP server List(/usr/local/bin/scala-cli, bsp, --json-options, /Users/davidmarinho/dev/proj-js/.scala-build/ide-options-v2.json, /Users/davidmarinho/dev/proj-js)
2024.01.17 21:41:48 INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at /Users/davidmarinho/dev/proj-js/.metals/bsp.trace.json or /Users/davidmarinho/Library/Caches/org.scalameta.metals/bsp.trace.json
2024.01.17 21:41:49 INFO  BSP server: Checking https://github.com/coursier/jvm-index/raw/master/index.json
2024.01.17 21:41:49 INFO  BSP server: Checked https://github.com/coursier/jvm-index/raw/master/index.json
2024.01.17 21:41:49 INFO  BSP server: Downloading https://github.com/coursier/jvm-index/raw/master/index.json
2024.01.17 21:41:49 INFO  BSP server: Downloaded https://github.com/coursier/jvm-index/raw/master/index.json
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-frontend_2.12/1.5.11-sc-2/bloop-frontend_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-frontend_2.12/1.5.11-sc-2/bloop-frontend_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-backend_2.12/1.5.11-sc-2/bloop-backend_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-backend_2.12/1.5.11-sc-2/bloop-backend_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-shared_2.12/1.5.11-sc-2/bloop-shared_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-shared_2.12/1.5.11-sc-2/bloop-shared_2.12-1.5.11-sc-2.pom
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-shared_2.12/1.5.11-sc-2/bloop-shared_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-backend_2.12/1.5.11-sc-2/bloop-backend_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:50 INFO  BSP server: Downloading https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-frontend_2.12/1.5.11-sc-2/bloop-frontend_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:50 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-shared_2.12/1.5.11-sc-2/bloop-shared_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:50 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-backend_2.12/1.5.11-sc-2/bloop-backend_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:52 INFO  BSP server: Downloaded https://repo1.maven.org/maven2/io/github/alexarchambault/bleep/bloop-frontend_2.12/1.5.11-sc-2/bloop-frontend_2.12-1.5.11-sc-2.jar
2024.01.17 21:41:52 INFO  BSP server: Starting compilation server
2024.01.17 21:41:54 INFO  time: Connected to build server in 6.57s
2024.01.17 21:41:54 INFO  Connected to Build server: scala-cli v1.0.6
2024.01.17 21:41:55 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:41:57 INFO  time: Imported build in 3.02s
2024.01.17 21:41:57 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:41:57 INFO  time: compiled proj-js_bd2c96d2de in 0.2s
2024.01.17 21:41:58 INFO  time: indexed workspace in 0.87s
2024.01.17 21:41:58 INFO  Cancelling compilation on scala-cli server
2024.01.17 21:41:58 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:41:58 INFO  time: compiled proj-js_bd2c96d2de in 0.32s
2024.01.17 21:41:59 INFO  time: Imported build in 0.37s
2024.01.17 21:41:58 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:42:00 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:42:00 INFO  time: indexed workspace in 1.24s
2024.01.17 21:42:00 INFO  time: compiled proj-js_bd2c96d2de in 0.64s
2024.01.17 21:42:00 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:42:01 INFO  time: compiled proj-js_bd2c96d2de in 0.2s
2024.01.17 21:46:31 INFO  compiling proj-js_bd2c96d2de (1 scala source and 2 java sources)
2024.01.17 21:46:31 INFO  time: compiled proj-js_bd2c96d2de in 0.18s
Exception in thread "pool-1-thread-57" java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.parsing.FoldingRangeProvider.$anonfun$getRangedForJava$2(FoldingRangeProvider.scala:48)
	at scala.Option$WithFilter.map(Option.scala:242)
	at scala.meta.internal.parsing.FoldingRangeProvider.getRangedForJava(FoldingRangeProvider.scala:45)
	at scala.meta.internal.metals.MetalsLspService.$anonfun$foldingRange$3(MetalsLspService.scala:1690)
	at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:687)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 9 more
Exception in thread "pool-1-thread-59" java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.pc.JavaPresentationCompiler.<init>(JavaPresentationCompiler.scala:49)
	at scala.meta.internal.metals.Compilers.loadJavaCompilerForTarget(Compilers.scala:1005)
	at scala.meta.internal.metals.Compilers.$anonfun$loadJavaCompiler$1(Compilers.scala:974)
	at scala.Option.flatMap(Option.scala:283)
	at scala.meta.internal.metals.Compilers.loadJavaCompiler(Compilers.scala:973)
	at scala.meta.internal.metals.Compilers.fromBuildTarget$1(Compilers.scala:854)
	at scala.meta.internal.metals.Compilers.loadCompiler(Compilers.scala:862)
	at scala.meta.internal.metals.Compilers.semanticTokens(Compilers.scala:427)
	at scala.meta.internal.metals.MetalsLspService.$anonfun$semanticTokensFull$2(MetalsLspService.scala:1605)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:470)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 13 more
Jan 17, 2024 9:50:03 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleNotification
WARNING: Notification threw an exception: {
  "jsonrpc": "2.0",
  "method": "textDocument/didClose",
  "params": {
    "textDocument": {
      "uri": "file:///Users/davidmarinho/dev/proj-js/test2.java"
    }
  }
}
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.notify(GenericEndpoint.java:152)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleNotification(RemoteEndpoint.java:220)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:187)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)
	at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)
	... 11 more
Caused by: java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.pc.JavaPresentationCompiler.<init>(JavaPresentationCompiler.scala:49)
	at scala.meta.internal.metals.Compilers.loadJavaCompilerForTarget(Compilers.scala:1005)
	at scala.meta.internal.metals.Compilers.$anonfun$loadJavaCompiler$1(Compilers.scala:974)
	at scala.Option.flatMap(Option.scala:283)
	at scala.meta.internal.metals.Compilers.loadJavaCompiler(Compilers.scala:973)
	at scala.meta.internal.metals.Compilers.fromBuildTarget$1(Compilers.scala:854)
	at scala.meta.internal.metals.Compilers.loadCompiler(Compilers.scala:862)
	at scala.meta.internal.metals.Compilers.didClose(Compilers.scala:218)
	at scala.meta.internal.metals.MetalsLspService.didClose(MetalsLspService.scala:1200)
	at scala.meta.internal.metals.WorkspaceLspService.didClose(WorkspaceLspService.scala:362)
	at scala.meta.metals.lsp.DelegatingScalaService.didClose(DelegatingScalaService.scala:53)
	... 16 more
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 27 more

Exception in thread "pool-1-thread-63" java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.parsing.FoldingRangeProvider.$anonfun$getRangedForJava$2(FoldingRangeProvider.scala:48)
	at scala.Option$WithFilter.map(Option.scala:242)
	at scala.meta.internal.parsing.FoldingRangeProvider.getRangedForJava(FoldingRangeProvider.scala:45)
	at scala.meta.internal.metals.MetalsLspService.$anonfun$foldingRange$3(MetalsLspService.scala:1690)
	at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:687)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 9 more
Exception in thread "pool-1-thread-62" java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.pc.JavaPresentationCompiler.<init>(JavaPresentationCompiler.scala:49)
	at scala.meta.internal.metals.Compilers.loadJavaCompilerForTarget(Compilers.scala:1005)
	at scala.meta.internal.metals.Compilers.$anonfun$loadJavaCompiler$1(Compilers.scala:974)
	at scala.Option.flatMap(Option.scala:283)
	at scala.meta.internal.metals.Compilers.loadJavaCompiler(Compilers.scala:973)
	at scala.meta.internal.metals.Compilers.fromBuildTarget$1(Compilers.scala:854)
	at scala.meta.internal.metals.Compilers.loadCompiler(Compilers.scala:862)
	at scala.meta.internal.metals.Compilers.semanticTokens(Compilers.scala:427)
	at scala.meta.internal.metals.MetalsLspService.$anonfun$semanticTokensFull$2(MetalsLspService.scala:1605)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:470)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 13 more
Jan 17, 2024 9:50:04 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleNotification
WARNING: Notification threw an exception: {
  "jsonrpc": "2.0",
  "method": "textDocument/didClose",
  "params": {
    "textDocument": {
      "uri": "file:///Users/davidmarinho/dev/proj-js/test.java"
    }
  }
}
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.notify(GenericEndpoint.java:152)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleNotification(RemoteEndpoint.java:220)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:187)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)
	at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)
	... 11 more
Caused by: java.lang.NoClassDefFoundError: com/sun/source/tree/Tree
	at scala.meta.internal.pc.JavaPresentationCompiler.<init>(JavaPresentationCompiler.scala:49)
	at scala.meta.internal.metals.Compilers.loadJavaCompilerForTarget(Compilers.scala:1005)
	at scala.meta.internal.metals.Compilers.$anonfun$loadJavaCompiler$1(Compilers.scala:974)
	at scala.Option.flatMap(Option.scala:283)
	at scala.meta.internal.metals.Compilers.loadJavaCompiler(Compilers.scala:973)
	at scala.meta.internal.metals.Compilers.fromBuildTarget$1(Compilers.scala:854)
	at scala.meta.internal.metals.Compilers.loadCompiler(Compilers.scala:862)
	at scala.meta.internal.metals.Compilers.didClose(Compilers.scala:218)
	at scala.meta.internal.metals.MetalsLspService.didClose(MetalsLspService.scala:1200)
	at scala.meta.internal.metals.WorkspaceLspService.didClose(WorkspaceLspService.scala:362)
	at scala.meta.metals.lsp.DelegatingScalaService.didClose(DelegatingScalaService.scala:53)
	... 16 more
Caused by: java.lang.ClassNotFoundException: com.sun.source.tree.Tree
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 27 more

